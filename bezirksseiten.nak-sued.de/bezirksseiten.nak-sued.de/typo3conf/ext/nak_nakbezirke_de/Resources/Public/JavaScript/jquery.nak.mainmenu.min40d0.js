(function(a){a(document).ready(function(){function b(c){c.each(function(){widest=0;thisWidth=a(this).outerWidth(true);c.each(function(){if(thisWidth>widest){widest=thisWidth+10}})});c.css({width:widest,minWidth:"130px"})}if(a("#mainmenu").length){a("ul.level-2").each(function(){b(a(this).find("li"));var c=a(this).find("li").width();a(this).width(c)}).promise().done(function(){a("#mainmenu div").each(function(){var c=a(this).width();a(this).width(c).css({position:"absolute",display:"none"})}).promise().done(function(){var c=a("#mainmenu").offset(),e=a("#mainmenu").outerWidth(),d=c.left+e;a("#mainmenu div").each(function(){var h=a(this).parent("li").offset(),g=a(this).outerWidth(),f=h.left+g;if(d<=f){a(this).css({right:0,left:"auto"})}})})});a("#mainmenu ul.level-1 > li").hover(function(){a(this).addClass("hover")},function(){a(this).removeClass("hover")})}})})(jQuery);